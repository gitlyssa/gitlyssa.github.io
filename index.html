<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cumulative pedestrian-involved collisions by pedestrian action (2006-2023)</title>

    <!-- Load Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700&family=Arial:wght@400;700' rel='stylesheet' type='text/css'>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS code -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="infographic-container">
        <!-- Title Section -->
        <div class="title-section">
            <h1 class="main-title">
                <span class="title-line-1">Cumulative pedestrian-involved collisions</span>
                <span class="title-line-2">by pedestrian action</span>
                <a href="https://data.torontopolice.on.ca/datasets/0a1ee9d9436546dcbdc0ee9301e45e83_0/explore?location=3.764176%2C-79.381430%2C0.00&showTable=true" target="_blank" class="title-line-3">Toronto Police Data</a>
            </h1>

            <!-- Description -->
            <div class="description-section">
                There is no shortage of delays that occur during our daily commutesâ€”no doubt due to construction, poor road infrastructure, limited public transportation options, and traffic collisions, the most quantifiable of all these reasons. Pedestrians make up the second highest number of fatal accidents in Toronto; which is concerning as it is marketed as a walkable city. What conditions could cause this high volume of pedestrian collisions? The chart below displays the number of pedestrians involved in traffic collisions and their actions moments before the collision from 2006 to 2023.
            </div>
        </div>


        <!-- Play and Restart Buttons -->
        <div class="control-buttons">
            <div class="play-button">
                <div class="play-triangle"></div>
            </div>
            <div class="restart-button">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M17.5 2.5V7.5H12.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2.5 10C2.5 14.1421 5.85786 17.5 10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C7.64367 2.5 5.50732 3.55357 4.0625 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </div>


        <!-- Main Visualization Area -->
        <div class="visualization-area">
        <!-- Filter tiles -->
                <div class="filter-bar" id="filter-bar">
                    <div class="tile-group" data-group="severity">
                        <span class="tile-label">Severity</span>
                        <button class="tile active" data-value="all">All</button>
                        <button class="tile" data-value="nonfatal">Non-fatal</button>
                        <button class="tile" data-value="fatal">Fatal</button>
                    </div>

                    <!-- Pedestrian Action Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="pedAct-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>Pedestrian Action</span>
                        </button>
                        <div class="filter-checkbox-container" id="pedAct-checkboxes">
                        </div>
                    </div>

                    <!-- District Filter -->
                    <div class="filter-dropdown-group">
                        <button class="filter-btn" id="district-filter-btn">
                            <i class="fas fa-filter"></i>
                            <span>District</span>
                        </button>
                        <div class="filter-checkbox-container" id="district-checkboxes">
                        </div>
                    </div>
                </div>
            <!-- Road Visualization -->
            <div class="road-container">
                <div id="bar-chart"></div>
            </div>
            
            <!-- Timeline -->
            <div class="timeline-container">
                <div class="timeline-line"></div>
                <div class="timeline-label timeline-start">2006</div>
                <div class="timeline-label timeline-end">2023</div>
                <div class="timeline-marker" id="timeline-marker">
                    <div class="marker-dot"></div>
                    <div class="marker-label" id="current-year">2007</div>
                </div>
                <input type="range" id="year-slider" min="2006" max="2023" value="2007" class="year-slider">
            </div>
        </div>
    </div>
</div>

<!-- Load JS libraries -->
<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- Visualization objects -->
<script src="js/barChart.js"></script>

<!-- Load data, create visualizations -->
<script src="js/main.js"></script>
</body>
</html>